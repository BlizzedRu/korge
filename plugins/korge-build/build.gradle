apply plugin: 'kotlin'
apply plugin: 'maven'
apply plugin: 'maven-publish'

Properties gradleProperties = new Properties()
gradleProperties.load(new StringReader(new File(rootDir, "../gradle.properties").text))
ext.gradleProperties = gradleProperties

def version(String name) {
	if (name == "korge") return gradleProperties["version"]
	return gradleProperties["${name}Version"]
}


dependencies {
	compile "org.jetbrains.kotlin:kotlin-stdlib-jdk8"
	compile "org.jetbrains.kotlin:kotlin-test"
	compile "org.jetbrains.kotlin:kotlin-test-junit"

	//compile("com.soywiz:krypto-jvm:$kryptoVersion") {
	//	targetConfiguration = "default"
	//}
	//compile("com.soywiz:korge-jvm:$korgeVersion") {
	//	targetConfiguration = "default"
	//}
	//compile("com.soywiz:korge-swf-jvm:$korgeVersion") {
	//	targetConfiguration = "default"
	//}

	//targetConfiguration = "default"
	compile("com.soywiz.korlibs.korge:korge-jvm:${version("korge")}")
	compile("com.soywiz.korlibs.korge:korge-swf-jvm:${version("korge")}")
	compile("com.soywiz.korlibs.krypto:krypto-jvm:${version("krypto")}")
	compile("com.soywiz.korlibs.korau:korau-mp3-jvm:${version("korau")}")
	compile("com.soywiz.korlibs.korau:korau-ogg-vorbis-jvm:${version("korau")}")
}

publishing {
	publications {
		maven(MavenPublication) {
			groupId = project.group
			artifactId = project.name
			version = project.version

			from components.java
		}
	}
}
