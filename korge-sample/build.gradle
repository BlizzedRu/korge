apply from: "../include.gradle"

apply plugin: 'application'
apply plugin: 'jtransc'

apply plugin: 'kotlin'

//mainClassName = "com.soywiz.korge.sample.Sample1"
mainClassName = "com.soywiz.korge.sample.SampleRetro"

dependencies {
    compile "com.soywiz:korui:$korVersion"
	compile "com.soywiz:korui:$korVersion"
    compile project(":korge")
    compile project(":korge-core")
	compile project(":korge-ext-swf")
	compile project(":korge-ext-spriter")
	compile project(":korge-ext-lipsync")
	compile project(":korge-ext-particle")
	compile project(":korge-ext-tiled")
	compile project(":korge-ext-ui")
	testCompile project(":korge-tests")
}

jtransc {
    assets = ["korge-sample/resources"]
    minimizeNames = true
    //minimizeNames = false
    treeshaking = true
    //treeshaking = false

	//if (true) {
	if (false) {
		mainClassName = "com.soywiz.korge.sample.Sample1"
	} else {
		mainClassName = "com.soywiz.korge.sample.SampleRetro"
		skipServiceLoader("com.soywiz.korim.format.JPEG")
		skipServiceLoader("com.soywiz.korim.format.PNG")
		skipServiceLoader("com.soywiz.korau.format.MP3")
		skipServiceLoader("com.soywiz.korau.format.OGG")
		skipServiceLoader("com.soywiz.korge.ext.swf.SwfPlugin")
	}

}
